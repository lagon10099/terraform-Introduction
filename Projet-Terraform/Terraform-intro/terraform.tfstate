{"version":4,"terraform_version":"1.10.7","serial":2,"lineage":"804cb31b-1138-cf67-1d22-b69c8f36a74c","outputs":{},"resources":[{"mode":"managed","type":"incus_instance","name":"Ansible","provider":"provider[\"registry.opentofu.org/lxc/incus\"]","instances":[{"schema_version":0,"attributes":{"architecture":"x86_64","config":{"boot.autostart":"true","cloud-init.network-config":"network:\n  version: 2\n  ethernets:\n    enp5s0:\n      dhcp4: false\n      dhcp6: false\n      addresses: [192.168.2.11/24]\n      gateway4: 192.168.2.1\n      nameservers:\n        addresses: [1.1.1.1, 8.8.8.8]\n","cloud-init.user-data":"#cloud-config\npackage_update: true\npackage_upgrade: false\npackages:\n  - ansible\n  - curl\n  - nano\n  - git\n  - python3-pip\nwrite_files:\n  - path: /root/.ssh/id_ed25519\n    owner: root:root\n    permissions: '0600'\n    encoding: b64\n    content: LS0tLS1CRUdJTiBPUEVOU1NIIFBSSVZBVEUgS0VZLS0tLS0KYjNCbGJuTnphQzFyWlhrdGRqRUFBQUFBQkc1dmJtVUFBQUFFYm05dVpRQUFBQUFBQUFBQkFBQUFNd0FBQUF0emMyZ3RaVwpReU5UVXhPUUFBQUNCWGJySTUzdFlPWkFMRCt1WGExWTVSLzBXWE41Z0VNQ2VNbnI0dXZHYjhhZ0FBQUpqdE02Tmo3VE9qCll3QUFBQXR6YzJndFpXUXlOVFV4T1FBQUFDQlhickk1M3RZT1pBTEQrdVhhMVk1Ui8wV1hONWdFTUNlTW5yNHV2R2I4YWcKQUFBRUJoWDZPb2VialdyZTUxWk1pd2ovVlNLdW1Pd2lWL1d6Tm5oOXFqM0I1TUxWZHVzam5lMWc1a0FzUDY1ZHJWamxILwpSWmMzbUFRd0o0eWV2aTY4WnZ4cUFBQUFEbUZ1YzJsaWJHVXRaR1Z3Ykc5NUFRSURCQVVHQnc9PQotLS0tLUVORCBPUEVOU1NIIFBSSVZBVEUgS0VZLS0tLS0K\nruncmd:\n  - mkdir -p /root/.ssh \u0026\u0026 chmod 700 /root/.ssh\n  - ssh-keyscan -t ed25519 github.com \u003e\u003e /root/.ssh/known_hosts\n  - ansible-galaxy install geerlingguy.docker\n  - GIT_SSH_COMMAND=\"ssh -o StrictHostKeyChecking=accept-new\" git clone git@github.com:lagon10099/terraform-Introduction.git /root/terraform-Introduction || (cat /var/log/cloud-init-output.log \u0026\u0026 exit 1)\n  - cd /root/terraform-Introduction/Projet-Terraform/Ansible \u0026\u0026 ansible-playbook -i inventories/production/hosts -u debian --private-key /root/.ssh/id_ed25519 playbooks/deploy-webfile.yml\n","limits.cpu":"1","limits.memory":"1024MB","security.secureboot":"false"},"description":"","device":[{"name":"enp5s0","properties":{"network":"CookedNetwork"},"type":"nic"},{"name":"root","properties":{"path":"/","pool":"local","size":"16GB"},"type":"disk"}],"ephemeral":false,"file":[],"image":"images:ubuntu/24.04/cloud","ipv4_address":"192.168.2.2","ipv6_address":null,"mac_address":"10:66:6a:7d:cd:9c","name":"Ansible","profiles":["default"],"project":"CookedTeam","remote":null,"running":true,"source_file":null,"source_instance":null,"status":"Running","target":"brave-whale","type":"virtual-machine","wait_for":[]},"sensitive_attributes":[[{"type":"get_attr","value":"config"},{"type":"index","value":{"value":"cloud-init.user-data","type":"string"}}]],"dependencies":["incus_network.CookedNetwork"]}]},{"mode":"managed","type":"incus_instance","name":"Web","provider":"provider[\"registry.opentofu.org/lxc/incus\"]","instances":[{"schema_version":0,"attributes":{"architecture":"x86_64","config":{"boot.autostart":"true","cloud-init.network-config":"network:\n  version: 2\n  ethernets:\n    enp5s0:\n      dhcp4: false\n      dhcp6: false\n      addresses: [192.168.2.12/24]\n      gateway4: 192.168.2.1\n      nameservers:\n        addresses: [1.1.1.1, 8.8.8.8]\n","cloud-init.user-data":"#cloud-config\npackage_update: true\npackage_upgrade: false\npackages:\n  - openssh-server\nusers:\n  - name: debian\n    sudo: ALL=(ALL) NOPASSWD:ALL\n    shell: /bin/bash\n    ssh_authorized_keys:\n      - ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIFdusjne1g5kAsP65drVjlH/RZc3mAQwJ4yevi68Zvxq ansible-deploy\nruncmd:\n  - ufw allow 22/tcp\n","limits.cpu":"1","limits.memory":"2048MB","security.secureboot":"false"},"description":"","device":[{"name":"enp5s0","properties":{"network":"CookedNetwork"},"type":"nic"},{"name":"root","properties":{"path":"/","pool":"local","size":"32GB"},"type":"disk"}],"ephemeral":false,"file":[],"image":"images:debian/12/cloud","ipv4_address":"192.168.2.3","ipv6_address":null,"mac_address":"10:66:6a:fb:a0:6d","name":"Web","profiles":["default"],"project":"CookedTeam","remote":null,"running":true,"source_file":null,"source_instance":null,"status":"Running","target":"brave-whale","type":"virtual-machine","wait_for":[]},"sensitive_attributes":[],"dependencies":["incus_network.CookedNetwork"]}]},{"mode":"managed","type":"incus_network","name":"CookedNetwork","provider":"provider[\"registry.opentofu.org/lxc/incus\"]","instances":[{"schema_version":0,"attributes":{"config":{"ipv4.address":"192.168.2.1/24","ipv4.nat":"true","ipv6.address":"none","ipv6.nat":"false","network":"UPLINK"},"description":"","managed":true,"name":"CookedNetwork","project":"CookedTeam","remote":null,"target":null,"type":"ovn"},"sensitive_attributes":[]}]},{"mode":"managed","type":"incus_network_forward","name":"web_port80","provider":"provider[\"registry.opentofu.org/lxc/incus\"]","instances":[{"schema_version":0,"attributes":{"config":{},"description":"","listen_address":"10.3.0.17","network":"CookedNetwork","ports":[{"description":"","listen_port":"80","protocol":"tcp","target_address":"192.168.2.12","target_port":"80"}],"project":"CookedTeam","remote":null},"sensitive_attributes":[],"dependencies":["incus_network.CookedNetwork"]}]}],"check_results":null}
